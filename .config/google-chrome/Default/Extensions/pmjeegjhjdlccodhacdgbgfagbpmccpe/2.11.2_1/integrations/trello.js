async function addPopupElementToIngnoredList(){(await waitForElement(".clockify-integration-popup")).classList.add("smart-links-hover-preview")}function observeThemeChange(){new MutationObserver(updateColorStyle).observe(document.body,{attributes:!0})}function updateColorStyle(){return isThemeDark()?addDarkThemeStyle():removeDarkThemeStyle()}function isThemeDark(){return"dark"===document.documentElement.getAttribute("data-color-mode")}function addDarkThemeStyle(){if($(".clockify-custom-style-dark"))return;const t=createTag("style","clockify-custom-style-dark","\n\t\t.clockify-input {\n\t\t\tbackground: #333 !important;\n\t\t\tborder: #444 !important;\n\t\t\tcolor: #f4f4f4 !important;\n\t\t}\n\n\t\t.clockify-button-inactive {\n\t\t\tcolor: rgba(255, 255, 255, 0.81) !important;\n\t\t}\n\t");document.head.append(t)}function removeDarkThemeStyle(){$(".clockify-custom-style-dark")?.remove()}clockifyButton.observeDarkMode((()=>"dark"===document.documentElement.getAttribute("data-color-mode"))),setTimeout((()=>{clockifyButton.render(".window-sidebar:not(.clockify)",{observe:!0},(t=>{addPopupElementToIngnoredList();const e=$('div[id="trello-root"]'),o=t.lastChild.childNodes[1],n=createTag("div","button-link"),i=createTag("div","button-link input-button-link"),r=$('div[class="window-title"] > h2',e).textContent.trim(),c=$(".board-header h1",e)?.textContent?.trim(),l=clockifyButton.createButton({description:r,projectName:c}),a=clockifyButton.createInput({description:r,projectName:c});i.append(a),o.prepend(i),n.appendChild(l),o.prepend(n),i.style.padding="0px",$(".clockify-input").style.width="100%",$(".clockify-input").style.boxShadow="none",$(".clockify-input").style.border="1px solid #eaecf0",$(".clockify-input").style.backgroundColor="#eaecf0"})),clockifyButton.render('[data-testid="trello-card"]:not(.clockify)',{observe:!0},(t=>{const e=$('div[id="trello-root"]'),o={description:()=>text('[data-testid="card-name"]',t),projectName:()=>text(".board-header h1",e),small:!0},n=clockifyButton.createButton(o);applyStyles('\n\t\t\t\t[data-testid="trello-card"] .clockifyButton:not(.active) { display: none !important; }\n\t\t\t\t[data-testid="trello-card"]:hover .clockifyButton { display: flex !important; }\n\t\t\t'),t.style.minHeight="60px",t.style.paddingRight="15px",n.style.position="absolute",n.style.right="2px",n.style.bottom="8px",n.style.zIndex="9999",n.style.display="flex",t.prepend(n)})),clockifyButton.render(".checklist-item-details:not(.clockify)",{observe:!0},(t=>{const e=$('div[id="trello-root"]'),o=$('div[class="window-title"] > h2',e).textContent,n=$(".checklist-item-details-text",t).textContent+" - "+o,i=$(".board-header h1",e)?.textContent?.trim(),r=clockifyButton.createButton({description:n,projectName:i,small:!0});r.classList.add("checklist-item-button"),$(".checklist-item-controls",t).prepend(r)}))}),1e3);